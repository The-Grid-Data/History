Skip to main content

[](/en/)

  * Learn
  * Use
  * Build
  * Participate
  * Research

Search```K`

Languages EN

Change page

[Overview](/en/developers/docs/)

Foundational topics

[Intro to Ethereum](/en/developers/docs/intro-to-ethereum/)

[Intro to Ether](/en/developers/docs/intro-to-ether/)

[Intro to dapps](/en/developers/docs/dapps/)

[Web2 vs Web3](/en/developers/docs/web2-vs-web3/)

[Accounts](/en/developers/docs/accounts/)

[Transactions](/en/developers/docs/transactions/)

[Blocks](/en/developers/docs/blocks/)

[Ethereum virtual machine (EVM)](/en/developers/docs/evm/)

[Opcodes](/en/developers/docs/evm/opcodes/)

[Gas](/en/developers/docs/gas/)

[Nodes and clients](/en/developers/docs/nodes-and-clients/)

[Run a node](/en/developers/docs/nodes-and-clients/run-a-node/)

[Client diversity](/en/developers/docs/nodes-and-clients/client-diversity/)

[Nodes as a service](/en/developers/docs/nodes-and-clients/nodes-as-a-
service/)

[Node architecture](/en/developers/docs/nodes-and-clients/node-architecture/)

[Light clients](/en/developers/docs/nodes-and-clients/light-clients/)

[Archive nodes](/en/developers/docs/nodes-and-clients/archive-nodes/)

[Bootnodes](/en/developers/docs/nodes-and-clients/bootnodes/)

[Networks](/en/developers/docs/networks/)

[Consensus mechanisms](/en/developers/docs/consensus-mechanisms/)

[Proof-of-work](/en/developers/docs/consensus-mechanisms/pow/)

[Mining](/en/developers/docs/consensus-mechanisms/pow/mining/)

[Mining algorithms](/en/developers/docs/consensus-
mechanisms/pow/mining/mining-algorithms/)

[Dagger-Hashimoto](/en/developers/docs/consensus-mechanisms/pow/mining/mining-
algorithms/dagger-hashimoto/)

[Ethash](/en/developers/docs/consensus-mechanisms/pow/mining/mining-
algorithms/ethash/)

[Proof-of-stake](/en/developers/docs/consensus-mechanisms/pos/)

[Gasper](/en/developers/docs/consensus-mechanisms/pos/gasper/)

[Weak subjectivity](/en/developers/docs/consensus-mechanisms/pos/weak-
subjectivity/)

[Attestations](/en/developers/docs/consensus-mechanisms/pos/attestations/)

[PoS rewards and penalties](/en/developers/docs/consensus-
mechanisms/pos/rewards-and-penalties/)

[PoS attack and defense](/en/developers/docs/consensus-mechanisms/pos/attack-
and-defense/)

[Keys](/en/developers/docs/consensus-mechanisms/pos/keys/)

[Proof-of-stake versus proof-of-work](/en/developers/docs/consensus-
mechanisms/pos/pos-vs-pow/)

[Block proposal](/en/developers/docs/consensus-mechanisms/pos/block-proposal/)

[Proof-of-stake FAQs](/en/developers/docs/consensus-mechanisms/pos/faqs/)

[Proof-of-authority](/en/developers/docs/consensus-mechanisms/poa/)

Ethereum stack

[Intro to the stack](/en/developers/docs/ethereum-stack/)

[Smart contracts](/en/developers/docs/smart-contracts/)

[Smart contract languages](/en/developers/docs/smart-contracts/languages/)

[Smart contract anatomy](/en/developers/docs/smart-contracts/anatomy/)

[Smart contracts libraries](/en/developers/docs/smart-contracts/libraries/)

[Testing smart contracts](/en/developers/docs/smart-contracts/testing/)

[Compiling smart contracts](/en/developers/docs/smart-contracts/compiling/)

[Deploying smart contracts](/en/developers/docs/smart-contracts/deploying/)

[Verifying smart contracts](/en/developers/docs/smart-contracts/verifying/)

[Upgrading smart contracts](/en/developers/docs/smart-contracts/upgrading/)

[Smart contract security](/en/developers/docs/smart-contracts/security/)

[Smart contract formal verification](/en/developers/docs/smart-
contracts/formal-verification/)

[Composability](/en/developers/docs/smart-contracts/composability/)

[Development networks](/en/developers/docs/development-networks/)

[Development frameworks](/en/developers/docs/frameworks/)

Ethereum client APIs

[JavaScript APIs](/en/developers/docs/apis/javascript/)

[Backend APIs](/en/developers/docs/apis/backend/)

[JSON-RPC](/en/developers/docs/apis/json-rpc/)

[Data and analytics](/en/developers/docs/data-and-analytics/)

[Block explorers](/en/developers/docs/data-and-analytics/block-explorers/)

[Storage](/en/developers/docs/storage/)

[Integrated Development Environments (IDEs)](/en/developers/docs/ides/)

[Programming languages](/en/developers/docs/programming-languages/)

[Dart](/en/developers/docs/programming-languages/dart/)

[Delphi](/en/developers/docs/programming-languages/delphi/)

[.NET](/en/developers/docs/programming-languages/dot-net/)

[Golang](/en/developers/docs/programming-languages/golang/)

[Java](/en/developers/docs/programming-languages/java/)

[JavaScript](/en/developers/docs/programming-languages/javascript/)

[Python](/en/developers/docs/programming-languages/python/)

[Ruby](/en/developers/docs/programming-languages/ruby/)

[Rust](/en/developers/docs/programming-languages/rust/)

Advanced

[Bridges](/en/developers/docs/bridges/)

[Standards](/en/developers/docs/standards/)

[Token standards](/en/developers/docs/standards/tokens/)

[ERC-20: Fungible Tokens](/en/developers/docs/standards/tokens/erc-20/)

[ERC-721: NFTs](/en/developers/docs/standards/tokens/erc-721/)

[ERC-777](/en/developers/docs/standards/tokens/erc-777/)

[ERC-1155](/en/developers/docs/standards/tokens/erc-1155/)

[ERC-4626](/en/developers/docs/standards/tokens/erc-4626/)

[Maximal extractable value (MEV)](/en/developers/docs/mev/)

[Oracles](/en/developers/docs/oracles/)

[Scaling](/en/developers/docs/scaling/)

[Optimistic rollups](/en/developers/docs/scaling/optimistic-rollups/)

[Zero-knowledge rollups](/en/developers/docs/scaling/zk-rollups/)

[State channels](/en/developers/docs/scaling/state-channels/)

[Sidechains](/en/developers/docs/scaling/sidechains/)

[Plasma](/en/developers/docs/scaling/plasma/)

[Validium](/en/developers/docs/scaling/validium/)

[Data availability](/en/developers/docs/data-availability/)

[Networking layer](/en/developers/docs/networking-layer/)

[Network addresses](/en/developers/docs/networking-layer/network-addresses/)

[Portal Network](/en/developers/docs/networking-layer/portal-network/)

[Data structures and encoding](/en/developers/docs/data-structures-and-
encoding/)

[Patricia Merkle Trie](/en/developers/docs/data-structures-and-
encoding/patricia-merkle-trie/)

[Recursive-length prefix (RLP)](/en/developers/docs/data-structures-and-
encoding/rlp/)

[Simple serialize (SSZ)](/en/developers/docs/data-structures-and-
encoding/ssz/)

[Web3 secret storage definition](/en/developers/docs/data-structures-and-
encoding/web3-secret-storage/)

Design fundamentals

[Intro to design and UX](/en/developers/docs/design-and-ux/)

# ERC-1155 Multi-Token Standard

n

Last edit: [@nhsz(opens in a new tab)](https://github.com/nhsz), August 15,
2023

See contributors

On this page

  * Introduction
  * Prerequisites
  * ERC-1155 Functions and Features:
    * Batch Transfers
    * Batch Balance
    * Batch Approval
    * Receive Hook
    * NFT Support
    * Safe Transfer Rule
  * Further reading

## Introduction

A standard interface for contracts that manage multiple token types. A single
deployed contract may include any combination of fungible tokens, non-fungible
tokens or other configurations (e.g. semi-fungible tokens).

**What is meant by Multi-Token Standard?**

The idea is simple and seeks to create a smart contract interface that can
represent and control any number of fungible and non-fungible token types. In
this way, the ERC-1155 token can do the same functions as an
[ERC-20](/en/developers/docs/standards/tokens/erc-20/) and
[ERC-721](/en/developers/docs/standards/tokens/erc-721/) token, and even both
at the same time. It improves the functionality of both the ERC-20 and ERC-721
standards, making it more efficient and correcting obvious implementation
errors.

The ERC-1155 token is described fully in [EIP-1155(opens in a new
tab)](https://eips.ethereum.org/EIPS/eip-1155).

## Prerequisites

To better understand this page, we recommend you first read about [token
standards](/en/developers/docs/standards/tokens/),
[ERC-20](/en/developers/docs/standards/tokens/erc-20/), and
[ERC-721](/en/developers/docs/standards/tokens/erc-721/).

## ERC-1155 Functions and Features:

  * Batch Transfer: Transfer multiple assets in a single call.
  * Batch Balance: Get the balances of multiple assets in a single call.
  * Batch Approval: Approve all tokens to an address.
  * Hooks: Receive tokens hook.
  * NFT Support: If supply is only 1, treat it as NFT.
  * Safe Transfer Rules: Set of rules for secure transfer.

### Batch Transfers

The batch transfer works very similar to regular ERC-20 transfers. Let's look
at the regular ERC-20 `transferFrom` function:

    
    
    1// ERC-20
    
    2function transferFrom(address from, address to, uint256 value) external returns (bool);
    
    3
    
    4// ERC-1155
    
    5function safeBatchTransferFrom(
    
    6    address _from,
    
    7    address _to,
    
    8    uint256[] calldata _ids,
    
    9    uint256[] calldata _values,
    
    10    bytes calldata _data
    
    11) external;
    
    Show all
    
    ![ðŸ“‹](https://cdnjs.cloudflare.com/ajax/libs/twemoji/12.0.4/2/svg/1f4cb.svg) Copy

The only difference in ERC-1155 is that we pass the values as an array and we
also pass an array of ids. For example given `ids=[3, 6, 13]` and
`values=[100, 200, 5]`, the resulting transfers will be

  1. Transfer 100 tokens with id 3 from `_from` to `_to`.
  2. Transfer 200 tokens with id 6 from `_from` to `_to`.
  3. Transfer 5 tokens with id 13 from `_from` to `_to`.

In ERC-1155 we only have `transferFrom`, no `transfer`. To use it like a
regular `transfer`, just set the from address to the address that's calling
the function.

### Batch Balance

The respective ERC-20 `balanceOf` call likewise has its partner function with
batch support. As a reminder, this is the ERC-20 version:

    
    
    1// ERC-20
    
    2function balanceOf(address owner) external view returns (uint256);
    
    3
    
    4// ERC-1155
    
    5function balanceOfBatch(
    
    6    address[] calldata _owners,
    
    7    uint256[] calldata _ids
    
    8) external view returns (uint256[] memory);
    
    ![ðŸ“‹](https://cdnjs.cloudflare.com/ajax/libs/twemoji/12.0.4/2/svg/1f4cb.svg) Copy

Even simpler for the balance call, we can retrieve multiple balances in a
single call. We pass the array of owners, followed by the array of token ids.

For example given `_ids=[3, 6, 13]` and `_owners=[0xbeef..., 0x1337...,
0x1111...]`, the return value will be

    
    
    1[
    
    2    balanceOf(0xbeef...),
    
    3    balanceOf(0x1337...),
    
    4    balanceOf(0x1111...)
    
    5]
    
    ![ðŸ“‹](https://cdnjs.cloudflare.com/ajax/libs/twemoji/12.0.4/2/svg/1f4cb.svg) Copy

### Batch Approval

    
    
    1// ERC-1155
    
    2function setApprovalForAll(
    
    3    address _operator,
    
    4    bool _approved
    
    5) external;
    
    6
    
    7function isApprovedForAll(
    
    8    address _owner,
    
    9    address _operator
    
    10) external view returns (bool);
    
    Show all
    
    ![ðŸ“‹](https://cdnjs.cloudflare.com/ajax/libs/twemoji/12.0.4/2/svg/1f4cb.svg) Copy

The approvals are slightly different than ERC-20. Instead of approving
specific amounts, you set an operator to approved or not approved via
`setApprovalForAll`.

Reading the current status can be done via `isApprovedForAll`. As you can see,
it's an all-or-nothing operation. You cannot define how many tokens to approve
or even which token class.

This is intentionally designed with simplicity in mind. You can only approve
everything for one address.

### Receive Hook

    
    
    1function onERC1155BatchReceived(
    
    2    address _operator,
    
    3    address _from,
    
    4    uint256[] calldata _ids,
    
    5    uint256[] calldata _values,
    
    6    bytes calldata _data
    
    7) external returns(bytes4);
    
    ![ðŸ“‹](https://cdnjs.cloudflare.com/ajax/libs/twemoji/12.0.4/2/svg/1f4cb.svg) Copy

Given the [EIP-165(opens in a new
tab)](https://eips.ethereum.org/EIPS/eip-165) support, ERC-1155 supports
receive hooks for smart contracts only. The hook function must return a magic
predefined bytes4 value which is given as:

    
    
    1bytes4(keccak256("onERC1155BatchReceived(address,address,uint256[],uint256[],bytes)"))
    
    ![ðŸ“‹](https://cdnjs.cloudflare.com/ajax/libs/twemoji/12.0.4/2/svg/1f4cb.svg) Copy

When the receiving contract returns this value, it is assumed the contract
accepts the transfer and knows how to handle the ERC-1155 tokens. Great, no
more stuck tokens in a contract!

### NFT Support

When the supply is just one, the token is essentially a non-fungible token
(NFT). And as is standard for ERC-721, you can define a metadata URL. The URL
can be read and modified by clients, see [here(opens in a new
tab)](https://eips.ethereum.org/EIPS/eip-1155#metadata).

### Safe Transfer Rule

We've touched on a few safe transfer rules already in the previous
explanations. But let's look at the most important of the rules:

  1. The caller must be approved to spend the tokens for the `_from` address or the caller must equal `_from`.
  2. The transfer call must revert if
    1. `_to` address is 0.
    2. length of `_ids` is not the same as length of `_values`.
    3. any of the balance(s) of the holder(s) for token(s) in `_ids` is lower than the respective amount(s) in `_values` sent to the recipient.
    4. any other error occurs.

_Note_ : All batch functions including the hook also exist as versions without
batch. This is done for gas efficiency, considering transferring just one
asset will likely still be the most commonly used way. We've left them out for
simplicity in the explanations, including safe transfer rules. The names are
identical, just remove the 'Batch'.

## Further reading

  * [EIP-1155: Multi Token Standard(opens in a new tab)](https://eips.ethereum.org/EIPS/eip-1155)
  * [ERC-1155: Openzeppelin Docs(opens in a new tab)](https://docs.openzeppelin.com/contracts/3.x/erc1155)
  * [ERC-1155: GitHub Repo(opens in a new tab)](https://github.com/enjin/erc-1155)
  * [Alchemy NFT API(opens in a new tab)](https://docs.alchemy.com/alchemy/enhanced-apis/nft-api)

back-to-top â†‘

### Was this article helpful?

YesNo

![ðŸ‘ˆ](https://cdnjs.cloudflare.com/ajax/libs/twemoji/12.0.4/2/svg/1f448.svg)

Previous

[ERC-777](/en/developers/docs/standards/tokens/erc-777/)

![ðŸ‘‰](https://cdnjs.cloudflare.com/ajax/libs/twemoji/12.0.4/2/svg/1f449.svg)

Next

[ERC-4626](/en/developers/docs/standards/tokens/erc-4626/)

  * [Edit page(opens in a new tab)](https://github.com/ethereum/ethereum-org-website/tree/dev/public/content/developers/docs/standards/tokens/erc-1155/index.md)
  * On this page

    * Introduction
    * Prerequisites
    * ERC-1155 Functions and Features:
      * Batch Transfers
      * Batch Balance
      * Batch Approval
      * Receive Hook
      * NFT Support
      * Safe Transfer Rule
    * Further reading

Website last updated: May 22, 2024

[(opens in a new tab)](https://github.com/ethereum/ethereum-org-
website)[(opens in a new tab)](https://twitter.com/ethdotorg)[(opens in a new
tab)](https://discord.gg/ethereum-org)

### Learn

  * [Learn Hub](/en/learn/)
  * [What is Ethereum?](/en/what-is-ethereum/)
  * [What is ether (ETH)?](/en/eth/)
  * [Ethereum wallets](/en/wallets/)
  * [What is Web3?](/en/web3/)
  * [Smart contracts](/en/smart-contracts/)
  * [Gas fees](/en/gas/)
  * [Run a node](/en/run-a-node/)
  * [Ethereum security and scam prevention](/en/security/)
  * [Quiz Hub](/en/quizzes/)
  * [Ethereum glossary](/en/glossary/)

### Use

  * [Guides](/en/guides/)
  * [Choose your wallet](/en/wallets/find-wallet/)
  * [Get ETH](/en/get-eth/)
  * [Dapps - Decentralized applications](/en/dapps/)
  * [Stablecoins](/en/stablecoins/)
  * [NFTs - Non-fungible tokens](/en/nft/)
  * [DeFi - Decentralized finance](/en/defi/)
  * [DAOs - Decentralized autonomous organizations](/en/dao/)
  * [Decentralized identity](/en/decentralized-identity/)
  * [Stake ETH](/en/staking/)
  * [Layer 2](/en/layer-2/)

### Build

  * [Builder's home](/en/developers/)
  * [Tutorials](/en/developers/tutorials/)
  * [Documentation](/en/developers/docs/)
  * [Learn by coding](/en/developers/learning-tools/)
  * [Set up local environment](/en/developers/local-environment/)
  * [Grants](/en/community/grants/)
  * [Foundational topics](/en/developers/docs/intro-to-ethereum/)
  * [UX/UI design fundamentals](/en/developers/docs/design-and-ux/)
  * [Enterprise - Mainnet Ethereum](/en/enterprise/)
  * [Enterprise - Private Ethereum](/en/enterprise/private-ethereum/)

### Participate

  * [Community hub](/en/community/)
  * [Online communities](/en/community/online/)
  * [Ethereum events](/en/community/events/)
  * [Contributing to ethereum.org](/en/contributing/)
  * [Translation Program](/en/contributing/translation-program/)
  * [Ethereum bug bounty program](/en/bug-bounty/)
  * [Ethereum Foundation](/en/foundation/)
  * [Ethereum Foundation Blog(opens in a new tab)](https://blog.ethereum.org/)
  * [Ecosystem Support Program(opens in a new tab)](https://esp.ethereum.foundation)
  * [Devcon(opens in a new tab)](https://devcon.org/)

### Research

  * [Ethereum Whitepaper](/en/whitepaper/)
  * [Ethereum roadmap](/en/roadmap/)
  * [Improved security](/en/roadmap/security/)
  * [Technical history of Ethereum](/en/history/)
  * [Open research](/en/community/research/)
  * [Ethereum Improvement Proposals](/en/eips/)
  * [Ethereum governance](/en/governance/)

  * [About us](/en/about/)
  * [Ethereum brand assets](/en/assets/)
  * [Code of conduct](/en/community/code-of-conduct/)
  * [Jobs](/en/about/#open-jobs)
  * [Privacy policy](/en/privacy-policy/)
  * [Terms of use](/en/terms-of-use/)
  * [Cookie policy](/en/cookie-policy/)
  * [Press Contact(opens in a new tab)](mailto:press@ethereum.org)

Is this page helpful?

