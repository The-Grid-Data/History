Skip to main content

[](/en/)

  * Learn
  * Use
  * Build
  * Participate
  * Research

Search```K`

Languages EN

Change page

[Overview](/en/developers/docs/)

Foundational topics

[Intro to Ethereum](/en/developers/docs/intro-to-ethereum/)

[Intro to Ether](/en/developers/docs/intro-to-ether/)

[Intro to dapps](/en/developers/docs/dapps/)

[Web2 vs Web3](/en/developers/docs/web2-vs-web3/)

[Accounts](/en/developers/docs/accounts/)

[Transactions](/en/developers/docs/transactions/)

[Blocks](/en/developers/docs/blocks/)

[Ethereum virtual machine (EVM)](/en/developers/docs/evm/)

[Opcodes](/en/developers/docs/evm/opcodes/)

[Gas](/en/developers/docs/gas/)

[Nodes and clients](/en/developers/docs/nodes-and-clients/)

[Run a node](/en/developers/docs/nodes-and-clients/run-a-node/)

[Client diversity](/en/developers/docs/nodes-and-clients/client-diversity/)

[Nodes as a service](/en/developers/docs/nodes-and-clients/nodes-as-a-
service/)

[Node architecture](/en/developers/docs/nodes-and-clients/node-architecture/)

[Light clients](/en/developers/docs/nodes-and-clients/light-clients/)

[Archive nodes](/en/developers/docs/nodes-and-clients/archive-nodes/)

[Bootnodes](/en/developers/docs/nodes-and-clients/bootnodes/)

[Networks](/en/developers/docs/networks/)

[Consensus mechanisms](/en/developers/docs/consensus-mechanisms/)

[Proof-of-work](/en/developers/docs/consensus-mechanisms/pow/)

[Mining](/en/developers/docs/consensus-mechanisms/pow/mining/)

[Mining algorithms](/en/developers/docs/consensus-
mechanisms/pow/mining/mining-algorithms/)

[Dagger-Hashimoto](/en/developers/docs/consensus-mechanisms/pow/mining/mining-
algorithms/dagger-hashimoto/)

[Ethash](/en/developers/docs/consensus-mechanisms/pow/mining/mining-
algorithms/ethash/)

[Proof-of-stake](/en/developers/docs/consensus-mechanisms/pos/)

[Gasper](/en/developers/docs/consensus-mechanisms/pos/gasper/)

[Weak subjectivity](/en/developers/docs/consensus-mechanisms/pos/weak-
subjectivity/)

[Attestations](/en/developers/docs/consensus-mechanisms/pos/attestations/)

[PoS rewards and penalties](/en/developers/docs/consensus-
mechanisms/pos/rewards-and-penalties/)

[PoS attack and defense](/en/developers/docs/consensus-mechanisms/pos/attack-
and-defense/)

[Keys](/en/developers/docs/consensus-mechanisms/pos/keys/)

[Proof-of-stake versus proof-of-work](/en/developers/docs/consensus-
mechanisms/pos/pos-vs-pow/)

[Block proposal](/en/developers/docs/consensus-mechanisms/pos/block-proposal/)

[Proof-of-stake FAQs](/en/developers/docs/consensus-mechanisms/pos/faqs/)

[Proof-of-authority](/en/developers/docs/consensus-mechanisms/poa/)

Ethereum stack

[Intro to the stack](/en/developers/docs/ethereum-stack/)

[Smart contracts](/en/developers/docs/smart-contracts/)

[Smart contract languages](/en/developers/docs/smart-contracts/languages/)

[Smart contract anatomy](/en/developers/docs/smart-contracts/anatomy/)

[Smart contracts libraries](/en/developers/docs/smart-contracts/libraries/)

[Testing smart contracts](/en/developers/docs/smart-contracts/testing/)

[Compiling smart contracts](/en/developers/docs/smart-contracts/compiling/)

[Deploying smart contracts](/en/developers/docs/smart-contracts/deploying/)

[Verifying smart contracts](/en/developers/docs/smart-contracts/verifying/)

[Upgrading smart contracts](/en/developers/docs/smart-contracts/upgrading/)

[Smart contract security](/en/developers/docs/smart-contracts/security/)

[Smart contract formal verification](/en/developers/docs/smart-
contracts/formal-verification/)

[Composability](/en/developers/docs/smart-contracts/composability/)

[Development networks](/en/developers/docs/development-networks/)

[Development frameworks](/en/developers/docs/frameworks/)

Ethereum client APIs

[JavaScript APIs](/en/developers/docs/apis/javascript/)

[Backend APIs](/en/developers/docs/apis/backend/)

[JSON-RPC](/en/developers/docs/apis/json-rpc/)

[Data and analytics](/en/developers/docs/data-and-analytics/)

[Block explorers](/en/developers/docs/data-and-analytics/block-explorers/)

[Storage](/en/developers/docs/storage/)

[Integrated Development Environments (IDEs)](/en/developers/docs/ides/)

[Programming languages](/en/developers/docs/programming-languages/)

[Dart](/en/developers/docs/programming-languages/dart/)

[Delphi](/en/developers/docs/programming-languages/delphi/)

[.NET](/en/developers/docs/programming-languages/dot-net/)

[Golang](/en/developers/docs/programming-languages/golang/)

[Java](/en/developers/docs/programming-languages/java/)

[JavaScript](/en/developers/docs/programming-languages/javascript/)

[Python](/en/developers/docs/programming-languages/python/)

[Ruby](/en/developers/docs/programming-languages/ruby/)

[Rust](/en/developers/docs/programming-languages/rust/)

Advanced

[Bridges](/en/developers/docs/bridges/)

[Standards](/en/developers/docs/standards/)

[Token standards](/en/developers/docs/standards/tokens/)

[ERC-20: Fungible Tokens](/en/developers/docs/standards/tokens/erc-20/)

[ERC-721: NFTs](/en/developers/docs/standards/tokens/erc-721/)

[ERC-777](/en/developers/docs/standards/tokens/erc-777/)

[ERC-1155](/en/developers/docs/standards/tokens/erc-1155/)

[ERC-4626](/en/developers/docs/standards/tokens/erc-4626/)

[Maximal extractable value (MEV)](/en/developers/docs/mev/)

[Oracles](/en/developers/docs/oracles/)

[Scaling](/en/developers/docs/scaling/)

[Optimistic rollups](/en/developers/docs/scaling/optimistic-rollups/)

[Zero-knowledge rollups](/en/developers/docs/scaling/zk-rollups/)

[State channels](/en/developers/docs/scaling/state-channels/)

[Sidechains](/en/developers/docs/scaling/sidechains/)

[Plasma](/en/developers/docs/scaling/plasma/)

[Validium](/en/developers/docs/scaling/validium/)

[Data availability](/en/developers/docs/data-availability/)

[Networking layer](/en/developers/docs/networking-layer/)

[Network addresses](/en/developers/docs/networking-layer/network-addresses/)

[Portal Network](/en/developers/docs/networking-layer/portal-network/)

[Data structures and encoding](/en/developers/docs/data-structures-and-
encoding/)

[Patricia Merkle Trie](/en/developers/docs/data-structures-and-
encoding/patricia-merkle-trie/)

[Recursive-length prefix (RLP)](/en/developers/docs/data-structures-and-
encoding/rlp/)

[Simple serialize (SSZ)](/en/developers/docs/data-structures-and-
encoding/ssz/)

[Web3 secret storage definition](/en/developers/docs/data-structures-and-
encoding/web3-secret-storage/)

Design fundamentals

[Intro to design and UX](/en/developers/docs/design-and-ux/)

# Attestations

w

Last edit: [@wackerow(opens in a new tab)](https://github.com/wackerow), April
23, 2024

See contributors

On this page

  * What is an attestation?
    * Aggregated attestation
    * Attestation inclusion lifecycle
  * Rewards
    * Base reward
    * Attestation scenarios
  * Further reading

A validator is expected to create, sign and broadcast an attestation during
every epoch. This page outlines what these attestations look like and how they
are processed and communicated between consensus clients.

## What is an attestation?

Every _epoch_ (6.4 minutes) a validator proposes an attestation to the
network. The attestation is for a specific slot in the epoch. The purpose of
the attestation is to vote in favor of the validator's view of the chain, in
particular the most recent justified block and the first block in the current
epoch (known as `source` and `target` checkpoints). This information is
combined for all participating validators, enabling the network to reach
consensus about the state of the blockchain.

The attestation contains the following components:

  * `aggregation_bits`: a bitlist of validators where the position maps to the validator index in their committee; the value (0/1) indicates whether the validator signed the `data` (i.e. whether they are active and agree with the block proposer)
  * `data`: details relating to the attestation, as defined below
  * `signature`: a BLS signature that aggregates the signatures of individual validators

The first task for an attesting validator is to build the `data`. The `data`
contains the following information:

  * `slot`: The slot number that the attestation refers to
  * `index`: A number that identifies which committee the validator belongs to in a given slot
  * `beacon_block_root`: Root hash of the block the validator sees at the head of the chain (the result of applying the fork-choice algorithm)
  * `source`: Part of the finality vote indicating what the validators see as the most recent justified block
  * `target`: Part of the finality vote indicating what the validators see as the first block in the current epoch

Once the `data` is built, the validator can flip the bit in `aggregation_bits`
corresponding to their own validator index from 0 to 1 to show that they
participated.

Finally, the validator signs the attestation and broadcasts it to the network.

### Aggregated attestation

There is a substantial overhead associated with passing this data around the
network for every validator. Therefore, the attestations from individual
validators are aggregated within subnets before being broadcast more widely.
This includes aggregating signatures together so that an attestation that gets
broadcast includes the consensus `data` and a single signature formed by
combining the signatures of all the validators that agree with that `data`.
This can be checked using `aggregation_bits` because this provides the index
of each validator in their committee (whose ID is provided in `data`) which
can be used to query individual signatures.

In each epoch 16 validators in each subnet are selected to be the
`aggregators`. The aggregators collect all the attestations they hear about
over the gossip network that have equivalent `data` to their own. The sender
of each matching attestation is recorded in the `aggregation_bits`. The
aggregators then broadcast the attestation aggregate to the wider network.

When a validator is selected to be a block proposer they package aggregate
attestations from the subnets up to the latest slot in the new block.

### Attestation inclusion lifecycle

  1. Generation
  2. Propagation
  3. Aggregation
  4. Propagation
  5. Inclusion

The attestation lifecycle is outlined in the schematic below:

[![attestation
lifecycle](/_next/image/?url=%2Fcontent%2Fdevelopers%2Fdocs%2Fconsensus-
mechanisms%2Fpos%2Fattestations%2Fattestation_schematic.png&w=1920&q=75)](/content/developers/docs/consensus-
mechanisms/pos/attestations/attestation_schematic.png)

## Rewards

Validators are rewarded for submitting attestations. The attestation reward
depends on the participation flags (source, target and head), the base reward
and the participation rate.

Each of the participation flags can be either true or false, depending on the
submitted attestation and its inclusion delay.

The best scenario occurs when all three flags are true, in which case a
validator would earn (per correct flag):

`reward += base reward * flag weight * flag attesting rate / 64`

The flag attesting rate is measured using the sum of effective balances of all
attesting validators for the given flag compared the total active effective
balance.

### Base reward

The base reward is calculated according to the number of attesting validators
and their effective staked ether balances:

`base reward = validator effective balance x 2^6 / SQRT(Effective balance of
all active validators)`

#### Inclusion delay

At the time when the validators voted on the head of the chain (`block n`),
`block n+1` was not proposed yet. Therefore attestations naturally get
included **one block later** so all attestations who voted on `block n` being
the chain head got included in `block n+1` and, the **inclusion delay** is 1.
If the inclusion delay doubles to two slots, the attestation reward halves,
because to calculate the attestation reward the base reward is multiplied by
the reciprocal of the inclusion delay.

### Attestation scenarios

#### Missing Voting Validator

Validators have a maximum of 1 epoch to submit their attestation. If the
attestation was missed in epoch 0, they can submit it with an inclusion delay
in epoch 1.

#### Missing Aggregator

There are 16 Aggregators per epoch in total. In addition, random validators
subscribe to **two subnets for 256 epochs** and serve as a backup in case
aggregators are missing.

#### Missing block proposer

Note that in some cases a lucky aggregator may also become the block proposer.
If the attestation was not included because the block proposer has gone
missing, the next block proposer would pick the aggregated attestation up and
include it into the next block. However, the **inclusion delay** will increase
by one.

## Further reading

  * [Attestations in Vitalik's annotated consensus spec(opens in a new tab)](https://github.com/ethereum/annotated-spec/blob/master/phase0/beacon-chain.md#attestationdata)
  * [Attestations in eth2book.info(opens in a new tab)](https://eth2book.info/capella/part3/containers/dependencies/#attestationdata)

_Know of a community resource that helped you? Edit this page and add it!_

back-to-top â†‘

### Was this article helpful?

YesNo

![ðŸ‘ˆ](https://cdnjs.cloudflare.com/ajax/libs/twemoji/12.0.4/2/svg/1f448.svg)

Previous

[Weak subjectivity](/en/developers/docs/consensus-mechanisms/pos/weak-
subjectivity/)

![ðŸ‘‰](https://cdnjs.cloudflare.com/ajax/libs/twemoji/12.0.4/2/svg/1f449.svg)

Next

[PoS rewards and penalties](/en/developers/docs/consensus-
mechanisms/pos/rewards-and-penalties/)

  * [Edit page(opens in a new tab)](https://github.com/ethereum/ethereum-org-website/tree/dev/public/content/developers/docs/consensus-mechanisms/pos/attestations/index.md)
  * On this page

    * What is an attestation?
      * Aggregated attestation
      * Attestation inclusion lifecycle
    * Rewards
      * Base reward
      * Attestation scenarios
    * Further reading

Website last updated: May 22, 2024

[(opens in a new tab)](https://github.com/ethereum/ethereum-org-
website)[(opens in a new tab)](https://twitter.com/ethdotorg)[(opens in a new
tab)](https://discord.gg/ethereum-org)

### Learn

  * [Learn Hub](/en/learn/)
  * [What is Ethereum?](/en/what-is-ethereum/)
  * [What is ether (ETH)?](/en/eth/)
  * [Ethereum wallets](/en/wallets/)
  * [What is Web3?](/en/web3/)
  * [Smart contracts](/en/smart-contracts/)
  * [Gas fees](/en/gas/)
  * [Run a node](/en/run-a-node/)
  * [Ethereum security and scam prevention](/en/security/)
  * [Quiz Hub](/en/quizzes/)
  * [Ethereum glossary](/en/glossary/)

### Use

  * [Guides](/en/guides/)
  * [Choose your wallet](/en/wallets/find-wallet/)
  * [Get ETH](/en/get-eth/)
  * [Dapps - Decentralized applications](/en/dapps/)
  * [Stablecoins](/en/stablecoins/)
  * [NFTs - Non-fungible tokens](/en/nft/)
  * [DeFi - Decentralized finance](/en/defi/)
  * [DAOs - Decentralized autonomous organizations](/en/dao/)
  * [Decentralized identity](/en/decentralized-identity/)
  * [Stake ETH](/en/staking/)
  * [Layer 2](/en/layer-2/)

### Build

  * [Builder's home](/en/developers/)
  * [Tutorials](/en/developers/tutorials/)
  * [Documentation](/en/developers/docs/)
  * [Learn by coding](/en/developers/learning-tools/)
  * [Set up local environment](/en/developers/local-environment/)
  * [Grants](/en/community/grants/)
  * [Foundational topics](/en/developers/docs/intro-to-ethereum/)
  * [UX/UI design fundamentals](/en/developers/docs/design-and-ux/)
  * [Enterprise - Mainnet Ethereum](/en/enterprise/)
  * [Enterprise - Private Ethereum](/en/enterprise/private-ethereum/)

### Participate

  * [Community hub](/en/community/)
  * [Online communities](/en/community/online/)
  * [Ethereum events](/en/community/events/)
  * [Contributing to ethereum.org](/en/contributing/)
  * [Translation Program](/en/contributing/translation-program/)
  * [Ethereum bug bounty program](/en/bug-bounty/)
  * [Ethereum Foundation](/en/foundation/)
  * [Ethereum Foundation Blog(opens in a new tab)](https://blog.ethereum.org/)
  * [Ecosystem Support Program(opens in a new tab)](https://esp.ethereum.foundation)
  * [Devcon(opens in a new tab)](https://devcon.org/)

### Research

  * [Ethereum Whitepaper](/en/whitepaper/)
  * [Ethereum roadmap](/en/roadmap/)
  * [Improved security](/en/roadmap/security/)
  * [Technical history of Ethereum](/en/history/)
  * [Open research](/en/community/research/)
  * [Ethereum Improvement Proposals](/en/eips/)
  * [Ethereum governance](/en/governance/)

  * [About us](/en/about/)
  * [Ethereum brand assets](/en/assets/)
  * [Code of conduct](/en/community/code-of-conduct/)
  * [Jobs](/en/about/#open-jobs)
  * [Privacy policy](/en/privacy-policy/)
  * [Terms of use](/en/terms-of-use/)
  * [Cookie policy](/en/cookie-policy/)
  * [Press Contact(opens in a new tab)](mailto:press@ethereum.org)

Is this page helpful?

### Epoch

A period of 32 [slots](/en/glossary/#slot), each slot being 12 seconds,
totalling 6.4 minutes. Validator [committees](/en/glossary/#committee) are
shuffled every epoch for security reasons. Each epoch has an opportunity for
the chain to be [finalized](/en/glossary/#finality). Each validator is
assigned new responsibilities at the start of each epoch. [More on proof-of-
stake](/en/developers/docs/consensus-mechanisms/pos/#how-does-validation-work)

