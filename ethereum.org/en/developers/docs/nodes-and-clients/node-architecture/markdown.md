Skip to main content

[](/en/)

  * Learn
  * Use
  * Build
  * Participate
  * Research

Search```K`

Languages EN

Change page

[Overview](/en/developers/docs/)

Foundational topics

[Intro to Ethereum](/en/developers/docs/intro-to-ethereum/)

[Intro to Ether](/en/developers/docs/intro-to-ether/)

[Intro to dapps](/en/developers/docs/dapps/)

[Web2 vs Web3](/en/developers/docs/web2-vs-web3/)

[Accounts](/en/developers/docs/accounts/)

[Transactions](/en/developers/docs/transactions/)

[Blocks](/en/developers/docs/blocks/)

[Ethereum virtual machine (EVM)](/en/developers/docs/evm/)

[Opcodes](/en/developers/docs/evm/opcodes/)

[Gas](/en/developers/docs/gas/)

[Nodes and clients](/en/developers/docs/nodes-and-clients/)

[Run a node](/en/developers/docs/nodes-and-clients/run-a-node/)

[Client diversity](/en/developers/docs/nodes-and-clients/client-diversity/)

[Nodes as a service](/en/developers/docs/nodes-and-clients/nodes-as-a-
service/)

[Node architecture](/en/developers/docs/nodes-and-clients/node-architecture/)

[Light clients](/en/developers/docs/nodes-and-clients/light-clients/)

[Archive nodes](/en/developers/docs/nodes-and-clients/archive-nodes/)

[Bootnodes](/en/developers/docs/nodes-and-clients/bootnodes/)

[Networks](/en/developers/docs/networks/)

[Consensus mechanisms](/en/developers/docs/consensus-mechanisms/)

[Proof-of-work](/en/developers/docs/consensus-mechanisms/pow/)

[Mining](/en/developers/docs/consensus-mechanisms/pow/mining/)

[Mining algorithms](/en/developers/docs/consensus-
mechanisms/pow/mining/mining-algorithms/)

[Dagger-Hashimoto](/en/developers/docs/consensus-mechanisms/pow/mining/mining-
algorithms/dagger-hashimoto/)

[Ethash](/en/developers/docs/consensus-mechanisms/pow/mining/mining-
algorithms/ethash/)

[Proof-of-stake](/en/developers/docs/consensus-mechanisms/pos/)

[Gasper](/en/developers/docs/consensus-mechanisms/pos/gasper/)

[Weak subjectivity](/en/developers/docs/consensus-mechanisms/pos/weak-
subjectivity/)

[Attestations](/en/developers/docs/consensus-mechanisms/pos/attestations/)

[PoS rewards and penalties](/en/developers/docs/consensus-
mechanisms/pos/rewards-and-penalties/)

[PoS attack and defense](/en/developers/docs/consensus-mechanisms/pos/attack-
and-defense/)

[Keys](/en/developers/docs/consensus-mechanisms/pos/keys/)

[Proof-of-stake versus proof-of-work](/en/developers/docs/consensus-
mechanisms/pos/pos-vs-pow/)

[Block proposal](/en/developers/docs/consensus-mechanisms/pos/block-proposal/)

[Proof-of-stake FAQs](/en/developers/docs/consensus-mechanisms/pos/faqs/)

[Proof-of-authority](/en/developers/docs/consensus-mechanisms/poa/)

Ethereum stack

[Intro to the stack](/en/developers/docs/ethereum-stack/)

[Smart contracts](/en/developers/docs/smart-contracts/)

[Smart contract languages](/en/developers/docs/smart-contracts/languages/)

[Smart contract anatomy](/en/developers/docs/smart-contracts/anatomy/)

[Smart contracts libraries](/en/developers/docs/smart-contracts/libraries/)

[Testing smart contracts](/en/developers/docs/smart-contracts/testing/)

[Compiling smart contracts](/en/developers/docs/smart-contracts/compiling/)

[Deploying smart contracts](/en/developers/docs/smart-contracts/deploying/)

[Verifying smart contracts](/en/developers/docs/smart-contracts/verifying/)

[Upgrading smart contracts](/en/developers/docs/smart-contracts/upgrading/)

[Smart contract security](/en/developers/docs/smart-contracts/security/)

[Smart contract formal verification](/en/developers/docs/smart-
contracts/formal-verification/)

[Composability](/en/developers/docs/smart-contracts/composability/)

[Development networks](/en/developers/docs/development-networks/)

[Development frameworks](/en/developers/docs/frameworks/)

Ethereum client APIs

[JavaScript APIs](/en/developers/docs/apis/javascript/)

[Backend APIs](/en/developers/docs/apis/backend/)

[JSON-RPC](/en/developers/docs/apis/json-rpc/)

[Data and analytics](/en/developers/docs/data-and-analytics/)

[Block explorers](/en/developers/docs/data-and-analytics/block-explorers/)

[Storage](/en/developers/docs/storage/)

[Integrated Development Environments (IDEs)](/en/developers/docs/ides/)

[Programming languages](/en/developers/docs/programming-languages/)

[Dart](/en/developers/docs/programming-languages/dart/)

[Delphi](/en/developers/docs/programming-languages/delphi/)

[.NET](/en/developers/docs/programming-languages/dot-net/)

[Golang](/en/developers/docs/programming-languages/golang/)

[Java](/en/developers/docs/programming-languages/java/)

[JavaScript](/en/developers/docs/programming-languages/javascript/)

[Python](/en/developers/docs/programming-languages/python/)

[Ruby](/en/developers/docs/programming-languages/ruby/)

[Rust](/en/developers/docs/programming-languages/rust/)

Advanced

[Bridges](/en/developers/docs/bridges/)

[Standards](/en/developers/docs/standards/)

[Token standards](/en/developers/docs/standards/tokens/)

[ERC-20: Fungible Tokens](/en/developers/docs/standards/tokens/erc-20/)

[ERC-721: NFTs](/en/developers/docs/standards/tokens/erc-721/)

[ERC-777](/en/developers/docs/standards/tokens/erc-777/)

[ERC-1155](/en/developers/docs/standards/tokens/erc-1155/)

[ERC-4626](/en/developers/docs/standards/tokens/erc-4626/)

[Maximal extractable value (MEV)](/en/developers/docs/mev/)

[Oracles](/en/developers/docs/oracles/)

[Scaling](/en/developers/docs/scaling/)

[Optimistic rollups](/en/developers/docs/scaling/optimistic-rollups/)

[Zero-knowledge rollups](/en/developers/docs/scaling/zk-rollups/)

[State channels](/en/developers/docs/scaling/state-channels/)

[Sidechains](/en/developers/docs/scaling/sidechains/)

[Plasma](/en/developers/docs/scaling/plasma/)

[Validium](/en/developers/docs/scaling/validium/)

[Data availability](/en/developers/docs/data-availability/)

[Networking layer](/en/developers/docs/networking-layer/)

[Network addresses](/en/developers/docs/networking-layer/network-addresses/)

[Portal Network](/en/developers/docs/networking-layer/portal-network/)

[Data structures and encoding](/en/developers/docs/data-structures-and-
encoding/)

[Patricia Merkle Trie](/en/developers/docs/data-structures-and-
encoding/patricia-merkle-trie/)

[Recursive-length prefix (RLP)](/en/developers/docs/data-structures-and-
encoding/rlp/)

[Simple serialize (SSZ)](/en/developers/docs/data-structures-and-
encoding/ssz/)

[Web3 secret storage definition](/en/developers/docs/data-structures-and-
encoding/web3-secret-storage/)

Design fundamentals

[Intro to design and UX](/en/developers/docs/design-and-ux/)

# Node architecture

n

Last edit: [@nhsz(opens in a new tab)](https://github.com/nhsz), August 15,
2023

See contributors

On this page

  * What does the execution client do?
  * What does the consensus client do?
  * Validators
  * Components of a node comparison
  * Further reading

An Ethereum node is composed of two clients: an [execution
client](/en/developers/docs/nodes-and-clients/#execution-clients) and a
[consensus client](/en/developers/docs/nodes-and-clients/#consensus-clients).

When Ethereum was using [proof-of-work](/en/developers/docs/consensus-
mechanisms/pow/), an execution client was enough to run a full Ethereum node.
However, since implementing [proof-of-stake](/en/developers/docs/consensus-
mechanisms/pow/), the execution client needs to be used alongside another
piece of software called a [‚Äúconsensus client‚Äù](/en/developers/docs/nodes-and-
clients/#consensus-clients).

The diagram below shows the relationship between the two Ethereum clients. The
two clients connect to their own respective peer-to-peer (P2P) networks.
Separate P2P networks are needed as the execution clients gossip transactions
over their P2P network, enabling them to manage their local transaction pool,
whilst the consensus clients gossip blocks over their P2P network, enabling
consensus and chain growth.

[![](/_next/image/?url=%2Fcontent%2Fdevelopers%2Fdocs%2Fnodes-and-
clients%2Fnode-architecture%2Fnode-architecture-text-
background.png&w=1920&q=75)](/content/developers/docs/nodes-and-clients/node-
architecture/node-architecture-text-background.png)

_This image is borrowed from geth.ethereum.org and uses the Geth logo to
represent execution clients - there are other options for the execution client
including Erigon, Nethermind and Besu_

For this two-client structure to work, consensus clients must be able to pass
bundles of transactions to the execution client. Executing the transactions
locally is how the client validates that the transactions do not violate any
Ethereum rules and that the proposed update to Ethereum‚Äôs state is correct.
Likewise, when the node is selected to be a block producer the consensus
client must be able to request bundles of transactions from Geth to include in
the new block and execute them to update the global state. This inter-client
communication is handled by a local RPC connection using the [engine API(opens
in a new tab)](https://github.com/ethereum/execution-
apis/blob/main/src/engine/common.md).

## What does the execution client do?

The execution client is responsible for transaction handling, transaction
gossip, state management and supporting the Ethereum Virtual Machine
([EVM](/en/developers/docs/evm/)). However, it is **not** responsible for
block building, block gossiping or handling consensus logic. These are in the
remit of the consensus client.

The execution client creates execution payloads - the list of transactions,
updated state trie, and other execution-related data. Consensus clients
include the execution payload in every block. The execution client is also
responsible for re-executing transactions in new blocks to ensure they are
valid. Executing transactions is done on the execution client's embedded
computer, known as the [Ethereum Virtual Machine
(EVM)](/en/developers/docs/evm/).

The execution client also offers a user interface to Ethereum through [RPC
methods](/en/developers/docs/apis/json-rpc/) that enable users to query the
Ethereum blockchain, submit transactions and deploy smart contracts. It's
common for RPC calls to be handled by a library like [Web3js(opens in a new
tab)](https://docs.web3js.org/), [Web3py(opens in a new
tab)](https://web3py.readthedocs.io/en/v5/), or by a user-interface such as a
browser wallet.

In summary, the execution client is:

  * a user gateway to Ethereum
  * home to the Ethereum Virtual Machine, Ethereum's state and transaction pool.

## What does the consensus client do?

The consensus client deals with all the logic that enables a node to stay in
sync with the Ethereum network. This includes receiving blocks from peers and
running a fork choice algorithm to ensure the node always follows the chain
with the greatest accumulation of attestations (weighted by validator
effective balances). Similar to the execution client, consensus clients have
their own P2P network through which they share blocks and attestations.

The consensus client does not participate in attesting to or proposing blocks
- this is done by a validator, an optional add-on to a consensus client. A
consensus client without a validator only keeps up with the head of the chain,
allowing the node to stay synced. This enables a user to transact with
Ethereum using their execution client, confident that they are on the correct
chain.

## Validators

Node operators can add a validator to their consensus clients by depositing 32
ETH in the deposit contract. The validator client comes bundled with the
consensus client and can be added to a node at any time. The validator handles
attestations and block proposals. They enable a node to accrue rewards or lose
ETH via penalties or slashing. Running the validator software also makes a
node eligible to be selected to propose a new block.

[More on staking](/en/staking/).

## Components of a node comparison

Execution Client| Consensus Client| Validator  
---|---|---  
Gossips transactions over its p2p network| Gossips blocks and attestations
over its p2p network| Proposes blocks  
Executes/re-executes transactions| Runs the fork choice algorithm| Accrues
rewards/penalties  
Verifies incoming state changes| Keeps track of the head of the chain| Makes
attestations  
Manages state and receipts tries| Manages the Beacon state (contains consensus
and execution info)| Requires 32 ETH to be staked  
Creates execution payload| Keeps track of accumulated randomness in RANDAO|
Can be slashed  
Exposes JSON-RPC API for interacting with Ethereum| Keeps track of
justification and finalization|  
  
## Further reading

  * [Proof-of-stake](/en/developers/docs/consensus-mechanisms/pos/)
  * [Block proposal](/en/developers/docs/consensus-mechanisms/pos/block-proposal/)
  * [Validator rewards and penalties](/en/developers/docs/consensus-mechanisms/pos/rewards-and-penalties/)

back-to-top ‚Üë

### Was this article helpful?

YesNo

![üëà](https://cdnjs.cloudflare.com/ajax/libs/twemoji/12.0.4/2/svg/1f448.svg)

Previous

[Nodes as a service](/en/developers/docs/nodes-and-clients/nodes-as-a-
service/)

![üëâ](https://cdnjs.cloudflare.com/ajax/libs/twemoji/12.0.4/2/svg/1f449.svg)

Next

[Light clients](/en/developers/docs/nodes-and-clients/light-clients/)

  * [Edit page(opens in a new tab)](https://github.com/ethereum/ethereum-org-website/tree/dev/public/content/developers/docs/nodes-and-clients/node-architecture/index.md)
  * On this page

    * What does the execution client do?
    * What does the consensus client do?
    * Validators
    * Components of a node comparison
    * Further reading

Website last updated: May 22, 2024

[(opens in a new tab)](https://github.com/ethereum/ethereum-org-
website)[(opens in a new tab)](https://twitter.com/ethdotorg)[(opens in a new
tab)](https://discord.gg/ethereum-org)

### Learn

  * [Learn Hub](/en/learn/)
  * [What is Ethereum?](/en/what-is-ethereum/)
  * [What is ether (ETH)?](/en/eth/)
  * [Ethereum wallets](/en/wallets/)
  * [What is Web3?](/en/web3/)
  * [Smart contracts](/en/smart-contracts/)
  * [Gas fees](/en/gas/)
  * [Run a node](/en/run-a-node/)
  * [Ethereum security and scam prevention](/en/security/)
  * [Quiz Hub](/en/quizzes/)
  * [Ethereum glossary](/en/glossary/)

### Use

  * [Guides](/en/guides/)
  * [Choose your wallet](/en/wallets/find-wallet/)
  * [Get ETH](/en/get-eth/)
  * [Dapps - Decentralized applications](/en/dapps/)
  * [Stablecoins](/en/stablecoins/)
  * [NFTs - Non-fungible tokens](/en/nft/)
  * [DeFi - Decentralized finance](/en/defi/)
  * [DAOs - Decentralized autonomous organizations](/en/dao/)
  * [Decentralized identity](/en/decentralized-identity/)
  * [Stake ETH](/en/staking/)
  * [Layer 2](/en/layer-2/)

### Build

  * [Builder's home](/en/developers/)
  * [Tutorials](/en/developers/tutorials/)
  * [Documentation](/en/developers/docs/)
  * [Learn by coding](/en/developers/learning-tools/)
  * [Set up local environment](/en/developers/local-environment/)
  * [Grants](/en/community/grants/)
  * [Foundational topics](/en/developers/docs/intro-to-ethereum/)
  * [UX/UI design fundamentals](/en/developers/docs/design-and-ux/)
  * [Enterprise - Mainnet Ethereum](/en/enterprise/)
  * [Enterprise - Private Ethereum](/en/enterprise/private-ethereum/)

### Participate

  * [Community hub](/en/community/)
  * [Online communities](/en/community/online/)
  * [Ethereum events](/en/community/events/)
  * [Contributing to ethereum.org](/en/contributing/)
  * [Translation Program](/en/contributing/translation-program/)
  * [Ethereum bug bounty program](/en/bug-bounty/)
  * [Ethereum Foundation](/en/foundation/)
  * [Ethereum Foundation Blog(opens in a new tab)](https://blog.ethereum.org/)
  * [Ecosystem Support Program(opens in a new tab)](https://esp.ethereum.foundation)
  * [Devcon(opens in a new tab)](https://devcon.org/)

### Research

  * [Ethereum Whitepaper](/en/whitepaper/)
  * [Ethereum roadmap](/en/roadmap/)
  * [Improved security](/en/roadmap/security/)
  * [Technical history of Ethereum](/en/history/)
  * [Open research](/en/community/research/)
  * [Ethereum Improvement Proposals](/en/eips/)
  * [Ethereum governance](/en/governance/)

  * [About us](/en/about/)
  * [Ethereum brand assets](/en/assets/)
  * [Code of conduct](/en/community/code-of-conduct/)
  * [Jobs](/en/about/#open-jobs)
  * [Privacy policy](/en/privacy-policy/)
  * [Terms of use](/en/terms-of-use/)
  * [Cookie policy](/en/cookie-policy/)
  * [Press Contact(opens in a new tab)](mailto:press@ethereum.org)

Is this page helpful?

